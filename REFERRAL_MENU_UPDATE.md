# üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### 1. üéØ –ö–Ω–æ–ø–∫–∞ "–†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞" –≤ –≥–ª–∞–≤–Ω–æ–º –º–µ–Ω—é
- **–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ**: –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –±–æ—Ç–∞
- **–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å**: –î–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–§—É–Ω–∫—Ü–∏–∏**:
  - üìä –ú–æ—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
  - üîó –ú–æ—è —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞
  - üë• –ú–æ–∏ —Ä–µ—Ñ–µ—Ä–∞–ª—ã
  - ‚ÑπÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–∏—Å—Ç–µ–º–µ

### 2. üìÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ –¥–µ–Ω—å –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
- **–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ**: –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å ‚Üí –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ ‚Üí –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ –¥–µ–Ω—å
- **–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å**: –¢–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
- **–î–∞–Ω–Ω—ã–µ**:
  - üìä –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–≤—Å–µ–≥–æ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤, –æ–±—â–∏–π –¥–æ—Ö–æ–¥)
  - üéØ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —É—Ä–æ–≤–Ω—è–º (1-–π, 2-–π, 3-–π —É—Ä–æ–≤–µ–Ω—å)
  - üèÜ –¢–æ–ø —Ä–µ—Ñ–µ—Ä–µ—Ä–æ–≤ –∑–∞ –¥–µ–Ω—å
  - üìÜ –î–∞—Ç–∞ –æ—Ç—á–µ—Ç–∞

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
1. **`src/keyboards/keyboards.service.ts`**
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ "üìÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ –¥–µ–Ω—å" –≤ –∞–¥–º–∏–Ω-–º–µ–Ω—é
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ `adminReferralDaily()`

2. **`src/referrals/referrals.service.ts`**
   - –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `getDailyReferralStats()`
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ –¥–∞—Ç–µ
   - –ê–≥—Ä–µ–≥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ —É—Ä–æ–≤–Ω—è–º —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤

3. **`src/scenes/admin-referral.scene.ts`**
   - –î–æ–±–∞–≤–ª–µ–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `@Action('admin_referral_daily')`
   - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤—ã–≤–æ–¥ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–Ω–µ–≤–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

```typescript
{
  totalReferrals: number;        // –í—Å–µ–≥–æ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤ –∑–∞ –¥–µ–Ω—å
  totalEarnings: number;         // –û–±—â–∏–π –¥–æ—Ö–æ–¥ –∑–∞ –¥–µ–Ω—å
  level1Referrals: number;       // –†–µ—Ñ–µ—Ä–∞–ª—ã 1-–≥–æ —É—Ä–æ–≤–Ω—è
  level2Referrals: number;       // –†–µ—Ñ–µ—Ä–∞–ª—ã 2-–≥–æ —É—Ä–æ–≤–Ω—è
  level3Referrals: number;       // –†–µ—Ñ–µ—Ä–∞–ª—ã 3-–≥–æ —É—Ä–æ–≤–Ω—è
  level1Earnings: number;        // –î–æ—Ö–æ–¥ —Å 1-–≥–æ —É—Ä–æ–≤–Ω—è
  level2Earnings: number;        // –î–æ—Ö–æ–¥ —Å 2-–≥–æ —É—Ä–æ–≤–Ω—è
  level3Earnings: number;        // –î–æ—Ö–æ–¥ —Å 3-–≥–æ —É—Ä–æ–≤–Ω—è
  topReferrers: Array<{          // –¢–æ–ø —Ä–µ—Ñ–µ—Ä–µ—Ä–æ–≤
    user_id: number;
    total_referrals: number;
    total_earned: number;
  }>;
}
```

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
1. –û—Ç–∫—Ä–æ–π—Ç–µ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –±–æ—Ç–∞
2. –ù–∞–∂–º–∏—Ç–µ "üí∞ –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞"
3. –í—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é

### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤:
1. –í–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É `/admin`
2. –í—ã–±–µ—Ä–∏—Ç–µ "–†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞"
3. –ù–∞–∂–º–∏—Ç–µ "üìÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ –¥–µ–Ω—å"
4. –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –¥–µ—Ç–∞–ª—å–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É

## üìà –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

- **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç —Å–≤–æ—é —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
- **–ö–æ–Ω—Ç—Ä–æ–ª—å**: –ê–¥–º–∏–Ω—ã –º–æ–≥—É—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –µ–∂–µ–¥–Ω–µ–≤–Ω—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
- **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞**: –î–µ—Ç–∞–ª—å–Ω–∞—è —Ä–∞–∑–±–∏–≤–∫–∞ –ø–æ —É—Ä–æ–≤–Ω—è–º –∏ —Ç–æ–ø-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
- **–£–¥–æ–±—Å—Ç–≤–æ**: –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –∫–Ω–æ–ø–∫–∞–º–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
