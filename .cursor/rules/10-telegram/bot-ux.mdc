# üé® UX –ø—Ä–∏–Ω—Ü–∏–ø—ã –¥–ª—è Telegram –±–æ—Ç–æ–≤

## üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û

### 1. –ö–õ–ê–í–ò–ê–¢–£–†–´ - –ù–ò–ö–û–ì–î–ê –ù–ï –°–ú–ï–®–ò–í–ê–ô!
```javascript
// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û - —Å–º–µ—à–∏–≤–∞–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä
await ctx.reply('–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ:', {
  reply_markup: {
    inline_keyboard: [...],
    keyboard: [...]  // ‚ùå –°–º–µ—à–∏–≤–∞–Ω–∏–µ!
  }
});

// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û - –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
// –°–Ω–∞—á–∞–ª–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º inline-–∫–ª–∞–≤–∏–∞—Ç—É—Ä—É
await ctx.reply('–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ:', {
  reply_markup: { inline_keyboard: [...] }
});

// –ó–∞—Ç–µ–º –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º reply-–∫–ª–∞–≤–∏–∞—Ç—É—Ä—É
await ctx.reply('–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏ –Ω–∏–∂–µ:', {
  reply_markup: { keyboard: [...] }
});
```

### 2. –î–õ–ò–ù–ê –¢–ï–ö–°–¢–ê –ö–ù–û–ü–û–ö - –ú–ê–ö–°–ò–ú–£–ú 20 –°–ò–ú–í–û–õ–û–í
```javascript
// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û - —Ç–µ–∫—Å—Ç –æ–±—Ä–µ–∂–µ—Ç—Å—è Telegram'–æ–º
{ text: 'üìä –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤', callback_data: 'stats' }

// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û - –∫–æ—Ä–æ—Ç–∫–∏–π —Ç–µ–∫—Å—Ç
{ text: 'üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞', callback_data: 'stats' }

// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û - –æ—á–µ–Ω—å –∫–æ—Ä–æ—Ç–∫–∏–π —Ç–µ–∫—Å—Ç
{ text: 'üìà –ü–æ —É—Ä–æ–≤–Ω—è–º', callback_data: 'earnings_by_level' }

// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û - –∏—Å–ø–æ–ª—å–∑—É–π —ç–º–æ–¥–∑–∏ –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –º–µ—Å—Ç–∞
{ text: 'üí∞ –í—ã–≤–æ–¥', callback_data: 'withdrawal' }
```

### 3. –ö–û–ú–ê–ù–î–ê /START - –í–°–ï–ì–î–ê –î–û–õ–ñ–ù–ê –†–ê–ë–û–¢–ê–¢–¨
**–í–ê–ñ–ù–û: –í –ø—Ä–æ–µ–∫—Ç–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /start –Ω–∞ –æ–¥–Ω–æ–≥–æ –±–æ—Ç–∞!**

```javascript
// ‚úÖ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û: –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –≤—ã—Ö–æ–¥ –∏–∑ FSM –ø—Ä–∏ /start
bot.use(async (ctx, next) => {
  if (ctx.message && typeof ctx.message.text === 'string' && ctx.message.text.startsWith('/start')) {
    // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –≤—ã—Ö–æ–¥–∏–º –∏–∑ –≤—Å–µ—Ö —Å—Ü–µ–Ω
    if (ctx.scene && ctx.scene.current) {
      try {
        await ctx.scene.leave();
        console.log('[webhook] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã—à–µ–ª –∏–∑ —Å—Ü–µ–Ω—ã –ø—Ä–∏ –∫–æ–º–∞–Ω–¥–µ /start');
      } catch (error) {
        console.log('[webhook] –û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ —Å—Ü–µ–Ω—ã:', error);
      }
    }
    // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Å–µ—Å—Å–∏—é
    if (ctx.session) {
      ctx.session = {};
    }
    await handleStart(ctx); // handleStart ‚Äî –≤–∞—à–∞ —Ñ—É–Ω–∫—Ü–∏—è —Å—Ç–∞—Ä—Ç–∞
    return;
  }
  return next();
});
```

## üéØ –ü–†–ò–ù–¶–ò–ü–´ UX –î–õ–Ø –ë–û–¢–û–í:

### 1. –ü—Ä–æ—Å—Ç–æ—Ç–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
```javascript
// ‚úÖ –ü—Ä–æ—Å—Ç–æ–µ –º–µ–Ω—é —Å –ø–æ–Ω—è—Ç–Ω—ã–º–∏ –∫–Ω–æ–ø–∫–∞–º–∏
const mainMenu = {
  inline_keyboard: [
    [{ text: 'üí∞ –û–±–º–µ–Ω', callback_data: 'exchange' }],
    [{ text: 'üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞', callback_data: 'stats' }],
    [{ text: '‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏', callback_data: 'settings' }],
    [{ text: '‚ùì –ü–æ–º–æ—â—å', callback_data: 'help' }]
  ]
};
```

### 2. –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏
```javascript
// ‚úÖ –ü–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏
await ctx.reply('üí± –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞–ª—é—Ç—É –¥–ª—è –æ–±–º–µ–Ω–∞:', {
  reply_markup: {
    inline_keyboard: [
      [{ text: '‚Çø Bitcoin', callback_data: 'currency_btc' }],
      [{ text: '≈Å Litecoin', callback_data: 'currency_ltc' }]
    ]
  }
});
```

### 3. –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å
```javascript
// ‚úÖ –í—Å–µ–≥–¥–∞ –¥–∞–µ–º –ø–æ–Ω—è—Ç—å, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç
await ctx.reply('‚è≥ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é –≤–∞—à –∑–∞–ø—Ä–æ—Å...');

try {
  const result = await processRequest();
  await ctx.reply('‚úÖ –ì–æ—Ç–æ–≤–æ!', { reply_markup: resultMenu });
} catch (error) {
  await ctx.reply('‚ùå –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.');
}
```

## üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –¢–†–ï–ë–û–í–ê–ù–ò–Ø:

### 1. Webhook –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
```javascript
// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
await bot.setWebhook(`${process.env.WEBHOOK_URL}/webhook`);

// ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
bot.setWebhookInfo(); // –ù–ï –°–£–©–ï–°–¢–í–£–ï–¢
```

### 2. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
```javascript
// ‚úÖ –í–°–ï–ì–î–ê –≤—ã–≤–æ–¥–∏–º –¥–µ—Ç–∞–ª–∏ –æ—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª—å
try {
    await riskyOperation();
} catch (error) {
    console.error('[ModuleName] –û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏:', error);
    console.error('[ModuleName] –î–µ—Ç–∞–ª–∏ –æ—à–∏–±–∫–∏:', error instanceof Error ? error.stack : error);
    // Fallback –ª–æ–≥–∏–∫–∞
}
```

### 3. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ö–æ–¥—è—â–∏—Ö –∞–ø–¥–µ–π—Ç–æ–≤
```javascript
// ‚úÖ –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
bot.use(async (ctx, next) => {
  console.log(`[Incoming] Update type: ${ctx.updateType}`);
  console.log(`[Incoming] User: ${ctx.from?.id} (${ctx.from?.username})`);
  console.log(`[Incoming] Chat: ${ctx.chat?.id} (${ctx.chat?.type})`);
  if (ctx.message?.text) {
    console.log(`[Incoming] Text: ${ctx.message.text}`);
  }
  return next();
});
```

## üö´ –ó–ê–ü–†–ï–©–ï–ù–û –ë–ï–ó –†–ê–ó–†–ï–®–ï–ù–ò–Ø:
- **–ò–∑–º–µ–Ω—è—Ç—å UX/UI** - –Ω–µ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è, –ø–æ–¥—Å–∫–∞–∑–∫–∏, –∫–Ω–æ–ø–∫–∏
- **–ú–µ–Ω—è—Ç—å –ª–æ–≥–∏–∫—É –Ω–∞–≤–∏–≥–∞—Ü–∏–∏** - –Ω–µ –∏–∑–º–µ–Ω—è—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –º–µ–Ω—é –∏ –ø–µ—Ä–µ—Ö–æ–¥—ã
- **–î–æ–±–∞–≤–ª—è—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å** - –Ω–µ —Ä–∞—Å—à–∏—Ä—è—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –±–µ–∑ –∑–∞–ø—Ä–æ—Å–∞
- **–ú–µ–Ω—è—Ç—å —Ç–µ–∫—Å—Ç—ã** - –Ω–µ –∏–∑–º–µ–Ω—è—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –æ–ø–∏—Å–∞–Ω–∏—è

## ‚úÖ –†–∞–∑—Ä–µ—à–µ–Ω–æ –¢–û–õ–¨–ö–û:
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–æ–≤ –∏ –æ—à–∏–±–æ–∫
- –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∫–æ–¥–∞ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–≤–µ–¥–µ–Ω–∏—è
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –ø–æ —è–≤–Ω–æ–º—É –∑–∞–ø—Ä–æ—Å—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ú–∏–≥—Ä–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

## üìã –ß–ï–ö-–õ–ò–°–¢ UX:
- [ ] –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ
- [ ] –¢–µ–∫—Å—Ç –∫–Ω–æ–ø–æ–∫ –Ω–µ –ø—Ä–µ–≤—ã—à–∞–µ—Ç 20 —Å–∏–º–≤–æ–ª–æ–≤
- [ ] –ö–æ–º–∞–Ω–¥–∞ /start –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –≤—ã—Ö–æ–¥–∏—Ç –∏–∑ FSM
- [ ] –ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–º–∞–Ω–¥
- [ ] –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ö–æ–¥—è—â–∏—Ö –∞–ø–¥–µ–π—Ç–æ–≤
- [ ] –ü–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- [ ] –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## üö® –ß–ê–°–¢–´–ï –û–®–ò–ë–ö–ò:
1. **–°–º–µ—à–∏–≤–∞–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä** - –æ—Ç–ø—Ä–∞–≤–ª—è–π –æ—Ç–¥–µ–ª—å–Ω–æ
2. **–î–ª–∏–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –∫–Ω–æ–ø–æ–∫** - Telegram –æ–±—Ä–µ–∑–∞–µ—Ç —Ç–µ–∫—Å—Ç
3. **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥** - –æ–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ = –æ–¥–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
4. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤—ã—Ö–æ–¥–∞ –∏–∑ FSM –ø—Ä–∏ /start** - –∫–æ–º–∞–Ω–¥–∞ –º–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å
5. **–ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫** - –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π try-catch

---

**–ü–æ–º–Ω–∏: UX –≤–∞–∂–Ω–µ–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏! –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏—é!**
**–ü–æ–º–Ω–∏: –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã –ù–ò–ö–û–ì–î–ê –Ω–µ —Å–º–µ—à–∏–≤–∞—é—Ç—Å—è!**
**–ü–æ–º–Ω–∏: –ö–æ–º–∞–Ω–¥–∞ /start –í–°–ï–ì–î–ê –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å!**
description:
globs:
alwaysApply: false
---
