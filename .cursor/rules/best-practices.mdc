---
alwaysApply: true
---
# ‚≠ê –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ Telegram –±–æ—Ç–æ–≤

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

- **–ü—Ä–æ—Å—Ç–æ—Ç–∞** - –∫–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–Ω—è—Ç–Ω—ã–º –∏ —á–∏—Ç–∞–µ–º—ã–º
- **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** - –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–π –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–π –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å** - –∫–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ª–µ–≥–∫–æ –∏–∑–º–µ–Ω—è–µ–º—ã–º

## üîß Webhook –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Webhook
```typescript
// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
TelegrafModule.forRoot({
  token: process.env.BOT_TOKEN,
  launchOptions: {
    webhook: {
      domain: process.env.WEBHOOK_URL,
      hookPath: '/webhook',
    },
  },
})

// ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
bot.setWebhookInfo(); // –ù–ï –°–£–©–ï–°–¢–í–£–ï–¢
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ Webhook
```typescript
// ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–π —Å—Ç–∞—Ç—É—Å Webhook
async checkWebhook() {
  const webhookInfo = await this.bot.telegram.getWebhookInfo();
  if (webhookInfo.url !== `${process.env.WEBHOOK_URL}/webhook`) {
    await this.bot.telegram.setWebhook(`${process.env.WEBHOOK_URL}/webhook`);
  }
}
```

## ‚å®Ô∏è –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã –∏ –º–µ–Ω—é

### 1. –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä - –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û
```typescript
// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ - –æ—Ç–ø—Ä–∞–≤–ª—è–π –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
await ctx.reply('–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ:', {
  reply_markup: inlineKeyboard
});

await ctx.reply('–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏ –Ω–∏–∂–µ:', {
  reply_markup: replyKeyboard
});

// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û - –Ω–µ —Å–º–µ—à–∏–≤–∞–π inline –∏ reply
await ctx.reply('–¢–µ–∫—Å—Ç', {
  reply_markup: {
    inline_keyboard: [...],
    keyboard: [...] // –ù–ï –†–ê–ë–û–¢–ê–ï–¢!
  }
});
```

### 2. –î–ª–∏–Ω–∞ —Ç–µ–∫—Å—Ç–∞ –∫–Ω–æ–ø–æ–∫ - –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û
```typescript
// ‚ùå –ù–ï –î–û–ü–£–°–ö–ê–ô –æ–±—Ä–µ–∑–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ –∫–Ω–æ–ø–æ–∫ Telegram'–æ–º
// ‚úÖ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ —Ç–µ–∫—Å—Ç–∞ –∫–Ω–æ–ø–∫–∏: 20 —Å–∏–º–≤–æ–ª–æ–≤

// ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ - —Ç–µ–∫—Å—Ç –æ–±—Ä–µ–∂–µ—Ç—Å—è
{ text: 'üìä –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤', callback_data: 'stats' }

// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ - –∫–æ—Ä–æ—Ç–∫–∏–π —Ç–µ–∫—Å—Ç
{ text: 'üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞', callback_data: 'stats' }

// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ - –æ—á–µ–Ω—å –∫–æ—Ä–æ—Ç–∫–∏–π —Ç–µ–∫—Å—Ç
{ text: 'üìà –ü–æ —É—Ä–æ–≤–Ω—è–º', callback_data: 'earnings_by_level' }

// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ - –∏—Å–ø–æ–ª—å–∑—É–π —ç–º–æ–¥–∑–∏ –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –º–µ—Å—Ç–∞
{ text: 'üí∞ –í—ã–≤–æ–¥', callback_data: 'withdrawal' }
```

### 3. –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä
```typescript
// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ - —Å–æ–∑–¥–∞–≤–∞–π –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –æ—Ç–¥–µ–ª—å–Ω–æ
export const createMainMenu = (): InlineKeyboardMarkup => ({
  inline_keyboard: [
    [{ text: 'üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞', callback_data: 'stats' }],
    [{ text: '‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏', callback_data: 'settings' }],
    [{ text: '‚ùì –ü–æ–º–æ—â—å', callback_data: 'help' }]
  ]
});

// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û - –Ω–µ —Å–æ–∑–¥–∞–≤–∞–π –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ
@On('text')
async handleText(@Ctx() ctx: Context) {
  const keyboard = {
    inline_keyboard: [
      [{ text: '–ö–Ω–æ–ø–∫–∞', callback_data: 'action' }]
    ]
  };
  // –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏
}
```

## üìù –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π

### 1. –ö–æ–º–∞–Ω–¥–∞ /start - –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û

**–í–ê–ñ–ù–û: –í –ø—Ä–æ–µ–∫—Ç–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /start –Ω–∞ –æ–¥–Ω–æ–≥–æ –±–æ—Ç–∞. –ï—Å–ª–∏ –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ ‚Äî –±—É–¥–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç, –∏ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏–π –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π! –ù–µ –¥–æ–ø—É—Å–∫–∞–π—Ç–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ /start –≤ —Ä–∞–∑–Ω—ã—Ö –º–æ–¥—É–ª—è—Ö.**

```typescript
// ‚úÖ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û: –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –≤—ã—Ö–æ–¥ –∏–∑ FSM –ø—Ä–∏ /start
@Start()
async startCommand(@Ctx() ctx: Context) {
  // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –≤—ã—Ö–æ–¥–∏–º –∏–∑ –≤—Å–µ—Ö —Å—Ü–µ–Ω
  if (ctx.scene && ctx.scene.current) {
    try {
      await ctx.scene.leave();
      this.logger.log('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã—à–µ–ª –∏–∑ —Å—Ü–µ–Ω—ã –ø—Ä–∏ –∫–æ–º–∞–Ω–¥–µ /start');
    } catch (error) {
      this.logger.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ —Å—Ü–µ–Ω—ã:', error);
    }
  }
  
  // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Å–µ—Å—Å–∏—é
  if (ctx.session) {
    ctx.session = {};
  }
  
  await this.handleStart(ctx);
}

// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û - –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ /start
// –í —Ä–∞–∑–Ω—ã—Ö –º–æ–¥—É–ª—è—Ö - —ç—Ç–æ –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É!
```

### 2. –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
```typescript
// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ - —Ä–∞–∑–¥–µ–ª—è–π –ø–æ —Ç–∏–ø–∞–º
@Update()
export class BotUpdate {
  @Start()
  async startCommand(@Ctx() ctx: Context) {
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥—ã /start
  }
  
  @On('text')
  async handleText(@Ctx() ctx: Context) {
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
  }
  
  @Action(/.*/)
  async handleCallbackQuery(@Ctx() ctx: Context) {
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏–π –∫–Ω–æ–ø–æ–∫
  }
}

// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û - –≤—Å–µ –≤ –æ–¥–Ω–æ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ
@On('message')
async handleMessage(@Ctx() ctx: Context) {
  if (ctx.message.text?.startsWith('/')) {
    // –ö–æ–º–∞–Ω–¥—ã
  } else if (ctx.message.text) {
    // –¢–µ–∫—Å—Ç
  } else if (ctx.message.photo) {
    // –§–æ—Ç–æ
  }
  // 100+ —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞
}
```

### 3. –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
```typescript
// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ - –≤–∞–ª–∏–¥–∏—Ä—É–π –≤—Å–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
async handleMessage(ctx: Context) {
  // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —Ç–µ–∫—Å—Ç–∞
  if (!ctx.message.text || ctx.message.text.trim().length === 0) {
    await ctx.reply('‚ùå –ü—É—Å—Ç–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ');
    return;
  }
  
  // –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª–∏–Ω—ã
  if (ctx.message.text.length > 4096) {
    await ctx.reply('‚ùå –°–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ');
    return;
  }
  
  // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–ø–∞–º
  if (this.isSpam(ctx.from.id)) {
    await ctx.reply('‚ö†Ô∏è –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏–π');
    return;
  }
  
  // –û–±—Ä–∞–±–æ—Ç–∫–∞
  await this.processMessage(ctx);
}
```

## üóÑÔ∏è –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

### 1. –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
```typescript
// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ - –∏—Å–ø–æ–ª—å–∑—É–π –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
async getUser(telegramId: number) {
  const result = await this.db.query(
    'SELECT * FROM users WHERE telegram_id = $1',
    [telegramId]
  );
  return result.rows[0];
}

// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û - SQL –∏–Ω—ä–µ–∫—Ü–∏–∏
async getUser(telegramId: number) {
  const result = await this.db.query(
    `SELECT * FROM users WHERE telegram_id = ${telegramId}`
  );
  return result.rows[0];
}
```

### 2. –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
```typescript
// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ - –∏—Å–ø–æ–ª—å–∑—É–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
async transferMoney(fromId: number, toId: number, amount: number) {
  const client = await this.db.connect();
  
  try {
    await client.query('BEGIN');
    
    await client.query(
      'UPDATE users SET balance = balance - $1 WHERE telegram_id = $2',
      [amount, fromId]
    );
    
    await client.query(
      'UPDATE users SET balance = balance + $1 WHERE telegram_id = $2',
      [amount, toId]
    );
    
    await client.query('COMMIT');
  } catch (error) {
    await client.query('ROLLBACK');
    throw error;
  } finally {
    client.release();
  }
}
```

## üìä –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### 1. –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
```typescript
// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ - –ª–æ–≥–∏—Ä—É–π –≤–∞–∂–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è
@Injectable()
export class LoggerService {
  logUserAction(userId: number, action: string, details?: any) {
    this.logger.info('User action', {
      userId,
      action,
      details,
      timestamp: new Date().toISOString()
    });
  }
  
  logError(error: Error, context?: any) {
    this.logger.error('Error occurred', {
      message: error.message,
      stack: error.stack,
      context,
      timestamp: new Date().toISOString()
    });
  }
}
```

### 2. –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
```typescript
// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ - –∏–∑–º–µ—Ä—è–π –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
async processMessage(ctx: Context) {
  const startTime = Date.now();
  
  try {
    const result = await this.messageService.process(ctx.message);
    
    const duration = Date.now() - startTime;
    this.metrics.recordMessageProcessing(duration);
    
    return result;
  } catch (error) {
    const duration = Date.now() - startTime;
    this.metrics.recordError(duration);
    throw error;
  }
}
```

## üöÄ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### 1. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö
```typescript
// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ - –∫—ç—à–∏—Ä—É–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
@Injectable()
export class UserService {
  private userCache = new Map<number, User>();
  private cacheTTL = 5 * 60 * 1000; // 5 –º–∏–Ω—É—Ç
  
  async getUser(telegramId: number): Promise<User> {
    const cached = this.userCache.get(telegramId);
    if (cached && Date.now() - cached.cachedAt < this.cacheTTL) {
      return cached;
    }
    
    const user = await this.userRepository.findById(telegramId);
    this.userCache.set(telegramId, {
      ...user,
      cachedAt: Date.now()
    });
    
    return user;
  }
}
```

### 2. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
```typescript
// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ - –Ω–µ –±–ª–æ–∫–∏—Ä—É–π –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫
async handleMessage(ctx: Context) {
  // –ë—ã—Å—Ç—Ä—ã–π –æ—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
  await ctx.reply('‚è≥ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é...');
  
  // –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
  setImmediate(async () => {
    try {
      const result = await this.heavyProcessing(ctx.message);
      await ctx.editMessageText(result);
    } catch (error) {
      this.logger.error('Processing error:', error);
    }
  });
}
```

## üìã –ß–µ–∫-–ª–∏—Å—Ç –ª—É—á—à–∏—Ö –ø—Ä–∞–∫—Ç–∏–∫

- [ ] Webhook –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- [ ] –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –∏ –Ω–µ —Å–º–µ—à–∏–≤–∞—é—Ç—Å—è
- [ ] –¢–µ–∫—Å—Ç –∫–Ω–æ–ø–æ–∫ –Ω–µ –ø—Ä–µ–≤—ã—à–∞–µ—Ç 20 —Å–∏–º–≤–æ–ª–æ–≤
- [ ] –¢–æ–ª—å–∫–æ –æ–¥–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ /start –Ω–∞ –±–æ—Ç–∞
- [ ] –í—Å–µ –æ—à–∏–±–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –≤ try-catch
- [ ] SQL –∑–∞–ø—Ä–æ—Å—ã –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω—ã
- [ ] –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–æ
- [ ] –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- [ ] –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç—è–∂–µ–ª—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- [ ] –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

## üîç –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏

### 1. –°–º–µ—à–∏–≤–∞–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä
```typescript
// ‚ùå –ù–ï –†–ê–ë–û–¢–ê–ï–¢
reply_markup: {
  inline_keyboard: [...],
  keyboard: [...]
}
```

### 2. –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫
```typescript
// ‚ùå –û–ü–ê–°–ù–û
@On('message')
async handleMessage(@Ctx() ctx: Context) {
  await processMessage(ctx); // –ú–æ–∂–µ—Ç —É–ø–∞—Å—Ç—å
}
```

### 3. –•–∞—Ä–¥–∫–æ–¥ –∑–Ω–∞—á–µ–Ω–∏–π
```typescript
// ‚ùå –ù–ï–ì–ò–ë–ö–û
const MAX_MESSAGE_LENGTH = 1000;
const CACHE_TTL = 300000;
```

### 4. –ù–µ—Å–∫–æ–ª—å–∫–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ /start
```typescript
// ‚ùå –ö–û–ù–§–õ–ò–ö–¢ - —Å—Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏–π
// –í BotUpdate
@Start()
async startCommand(@Ctx() ctx: Context) { ... }

// –í MenuUpdate - –ö–û–ù–§–õ–ò–ö–¢!
@Start()
async startCommand(@Ctx() ctx: Context) { ... }
```
